"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["221"],{92516:function(n,e,o){o.r(e),o.d(e,{frontMatter:()=>i,default:()=>g,contentTitle:()=>r,assets:()=>t,toc:()=>c,metadata:()=>d});var d=JSON.parse('{"id":"\u540E\u7AEF/\u6570\u636E\u5E93/MongoDB/\u5B89\u5168\u542F\u52A8\u65B9\u5F0F/index","title":"\u5B89\u5168\u542F\u52A8\u65B9\u5F0F","description":"\u6700\u65B0\u542F\u52A8\u65B9\u5F0F mongodb 6.0X","source":"@site/docs/\u540E\u7AEF/\u6570\u636E\u5E93/MongoDB/\u5B89\u5168\u542F\u52A8\u65B9\u5F0F/index.mdx","sourceDirName":"\u540E\u7AEF/\u6570\u636E\u5E93/MongoDB/\u5B89\u5168\u542F\u52A8\u65B9\u5F0F","slug":"/\u540E\u7AEF/\u6570\u636E\u5E93/MongoDB/\u5B89\u5168\u542F\u52A8\u65B9\u5F0F/","permalink":"/docs/\u540E\u7AEF/\u6570\u636E\u5E93/MongoDB/\u5B89\u5168\u542F\u52A8\u65B9\u5F0F/","draft":false,"unlisted":false,"editUrl":"https://github.com/docs/\u540E\u7AEF/\u6570\u636E\u5E93/MongoDB/\u5B89\u5168\u542F\u52A8\u65B9\u5F0F/index.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"\u540E\u7AEF","previous":{"title":"\u89D2\u8272\u6743\u9650","permalink":"/docs/\u540E\u7AEF/\u6570\u636E\u5E93/MongoDB/API \u7D22\u5F15/\u89D2\u8272\u6743\u9650/"},"next":{"title":"Mysql \uD83D\uDEAF","permalink":"/docs/\u540E\u7AEF/\u6570\u636E\u5E93/Mysql/"}}'),l=o(96773),s=o(16070);let i={},r="\u5B89\u5168\u542F\u52A8\u65B9\u5F0F",t={},c=[{value:"\u6700\u65B0\u542F\u52A8\u65B9\u5F0F mongodb 6.0X",id:"\u6700\u65B0\u542F\u52A8\u65B9\u5F0F-mongodb-60x",level:2},{value:"mongodb 5.0X \u65E7\u7248\u672C\uFF08\uD83D\uDEAE\uFF09",id:"mongodb-50x-\u65E7\u7248\u672C",level:2},{value:"\u975E\u5B89\u5168\u6A21\u5F0F\u542F\u52A8",id:"\u975E\u5B89\u5168\u6A21\u5F0F\u542F\u52A8",level:3},{value:"\u542F\u52A8\u5B89\u5168\u7BA1\u7406\u8005 Mongodb \u670D\u52A1",id:"\u542F\u52A8\u5B89\u5168\u7BA1\u7406\u8005-mongodb-\u670D\u52A1",level:3}];function a(n){let e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"\u5B89\u5168\u542F\u52A8\u65B9\u5F0F",children:"\u5B89\u5168\u542F\u52A8\u65B9\u5F0F"})}),"\n",(0,l.jsx)(e.h2,{id:"\u6700\u65B0\u542F\u52A8\u65B9\u5F0F-mongodb-60x",children:"\u6700\u65B0\u542F\u52A8\u65B9\u5F0F mongodb 6.0X"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sh",children:"mongod --config ~/mongo/config/mongo.conf\n"})}),"\n",(0,l.jsx)(e.p,{children:"mongo.conf"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-conf",children:"storage:\n   dbPath: ~/mongo/data\nsystemLog:\n   destination: file\n   path: ~/mongo/log/log.log\n   logAppend: true\nnet:\n   bindIp: 127.0.0.1\n   port: 27101\nprocessManagement:\n   fork: true\n"})}),"\n",(0,l.jsx)(e.h2,{id:"mongodb-50x-\u65E7\u7248\u672C",children:"mongodb 5.0X \u65E7\u7248\u672C\uFF08\uD83D\uDEAE\uFF09"}),"\n",(0,l.jsx)(e.h3,{id:"\u975E\u5B89\u5168\u6A21\u5F0F\u542F\u52A8",children:"\u975E\u5B89\u5168\u6A21\u5F0F\u542F\u52A8"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sh",children:"mongod \\\n--dbpath ~/mongodb/data \\\n--logpath ~/mongodb/log/log.log\\\n--logappend \\\n--bind_ip 127.0.0.1 \\\n--port 27102 \\\n--fork\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8FD0\u884C\nmongo --port 27102"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u521B\u5EFA\u7BA1\u7406\u5458\u89D2\u8272\nuse admin"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:'db.createUser(\n    {\n        user: "root",\n        pwd: "",\n        customData: { employeeId: \'**\\*\\***\' },\n        roles: [\n            { "role":"root","db":"admin" }\n        ]\n    },\n    {\n        w: "majority" ,\n        wtimeout: 5000\n    }\n)\n'})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u9000\u51FA\nuse admin\ndb.shutdownServer()\nexit"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u542F\u52A8\u5B89\u5168\u7BA1\u7406\u8005-mongodb-\u670D\u52A1",children:"\u542F\u52A8\u5B89\u5168\u7BA1\u7406\u8005 Mongodb \u670D\u52A1"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sh",children:"mongod \\\n--dbpath ~/mongodb/data \\\n--logpath ~/mongodb/log/log.log\\\n--bind_ip 127.0.0.1 \\\n--port 27102 \\\n--timeStampFormat iso8601-local \\\n--logappend \\\n--profile 1 \\\n--auth \\\n--fork\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u9A8C\u8BC1"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sh",children:"  mongo --port 27102\n  use admin\n  db.auth({ user: '', pwd: \"\" })\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u7ED3\u675F\u8FDB\u7A0B\nps -ef | grep mongo\npkill mongod"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6027\u80FD\u76D1\u63A7"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sh",children:"  db.getProfilingLevel()\n  db.setProfilingLevel(1,100)\n  db.system.profile.count()\n  db.system.profile.find({}, {ns:1,op:1,millis:1,query:1})\n  db.system.profile.drop()\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u67E5\u770B\u8FDE\u63A5\u6570\u548C\u78C1\u76D8\u4FE1\u606F\ndb.serverStatus().connections\niostat\ntop"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8BBE\u7F6E\u65E5\u5FD7\u7B49\u7EA7\ndb.setLogLevel(5)"}),"\n"]}),"\n"]})]})}function g(n={}){let{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(a,{...n})}):a(n)}}}]);