"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["6851"],{61757:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>i,default:()=>m,contentTitle:()=>o,assets:()=>c,toc:()=>d,metadata:()=>r});var r=JSON.parse('{"id":"\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u884C\u4E3A\u578B\u6A21\u5F0F/\u5907\u5FD8\u5F55\u6A21\u5F0F/index","title":"\u5907\u5FD8\u5F55\u6A21\u5F0F\uFF08Memento Pattern\uFF09","description":"\u5907\u5FD8\u5F55\u6A21\u5F0F\uFF08Memento Pattern\uFF09\u662F\u4E00\u79CD\u884C\u4E3A\u578B\u8BBE\u8BA1\u6A21\u5F0F\uFF0C\u5B83\u7528\u4E8E\u6355\u83B7\u5BF9\u8C61\u7684\u5185\u90E8\u72B6\u6001\uFF0C\u5E76\u5141\u8BB8\u5728\u4E0D\u7834\u574F\u5C01\u88C5\u6027\u7684\u524D\u63D0\u4E0B\u5C06\u72B6\u6001\u4FDD\u5B58\u548C\u6062\u590D\u3002\u5907\u5FD8\u5F55\u6A21\u5F0F\u5141\u8BB8\u5C06\u5BF9\u8C61\u7684\u72B6\u6001\u4FDD\u5B58\u5230\u4E00\u4E2A\u5907\u5FD8\u5F55\u5BF9\u8C61\u4E2D\uFF0C\u4EE5\u4FBF\u5728\u4EE5\u540E\u7684\u65F6\u95F4\u70B9\u5C06\u5BF9\u8C61\u6062\u590D\u5230\u4E4B\u524D\u7684\u72B6\u6001\u3002","source":"@site/docs/\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u884C\u4E3A\u578B\u6A21\u5F0F/\u5907\u5FD8\u5F55\u6A21\u5F0F/index.md","sourceDirName":"\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u884C\u4E3A\u578B\u6A21\u5F0F/\u5907\u5FD8\u5F55\u6A21\u5F0F","slug":"/\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u884C\u4E3A\u578B\u6A21\u5F0F/\u5907\u5FD8\u5F55\u6A21\u5F0F/","permalink":"/docs/\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u884C\u4E3A\u578B\u6A21\u5F0F/\u5907\u5FD8\u5F55\u6A21\u5F0F/","draft":false,"unlisted":false,"editUrl":"https://github.com/docs/\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u884C\u4E3A\u578B\u6A21\u5F0F/\u5907\u5FD8\u5F55\u6A21\u5F0F/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"\u524D\u7AEF","previous":{"title":"\u547D\u4EE4\u6A21\u5F0F\uFF08Command Pattern\uFF09","permalink":"/docs/\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u884C\u4E3A\u578B\u6A21\u5F0F/\u547D\u4EE4\u6A21\u5F0F/"},"next":{"title":"\u6A21\u677F\u65B9\u6CD5\u6A21\u5F0F\uFF08Template Method Pattern\uFF09","permalink":"/docs/\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u884C\u4E3A\u578B\u6A21\u5F0F/\u6A21\u677F\u65B9\u6CD5\u6A21\u5F0F/"}}'),a=n(96773),s=n(16070);let i={},o="\u5907\u5FD8\u5F55\u6A21\u5F0F\uFF08Memento Pattern\uFF09",c={},d=[{value:"\u573A\u666F",id:"\u573A\u666F",level:2},{value:"\u5B9E\u73B0",id:"\u5B9E\u73B0",level:2}];function l(e){let t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"\u5907\u5FD8\u5F55\u6A21\u5F0Fmemento-pattern",children:"\u5907\u5FD8\u5F55\u6A21\u5F0F\uFF08Memento Pattern\uFF09"})}),"\n",(0,a.jsx)(t.p,{children:"\u5907\u5FD8\u5F55\u6A21\u5F0F\uFF08Memento Pattern\uFF09\u662F\u4E00\u79CD\u884C\u4E3A\u578B\u8BBE\u8BA1\u6A21\u5F0F\uFF0C\u5B83\u7528\u4E8E\u6355\u83B7\u5BF9\u8C61\u7684\u5185\u90E8\u72B6\u6001\uFF0C\u5E76\u5141\u8BB8\u5728\u4E0D\u7834\u574F\u5C01\u88C5\u6027\u7684\u524D\u63D0\u4E0B\u5C06\u72B6\u6001\u4FDD\u5B58\u548C\u6062\u590D\u3002\u5907\u5FD8\u5F55\u6A21\u5F0F\u5141\u8BB8\u5C06\u5BF9\u8C61\u7684\u72B6\u6001\u4FDD\u5B58\u5230\u4E00\u4E2A\u5907\u5FD8\u5F55\u5BF9\u8C61\u4E2D\uFF0C\u4EE5\u4FBF\u5728\u4EE5\u540E\u7684\u65F6\u95F4\u70B9\u5C06\u5BF9\u8C61\u6062\u590D\u5230\u4E4B\u524D\u7684\u72B6\u6001\u3002"}),"\n",(0,a.jsx)(t.p,{children:"\u5907\u5FD8\u5F55\u6A21\u5F0F\u7684\u6838\u5FC3\u601D\u60F3\u662F\u5C06\u72B6\u6001\u4FDD\u5B58\u548C\u6062\u590D\u7684\u64CD\u4F5C\u4E0E\u5BF9\u8C61\u5206\u79BB\u5F00\u6765\uFF0C\u4ECE\u800C\u63D0\u9AD8\u7CFB\u7EDF\u7684\u53EF\u7EF4\u62A4\u6027\u548C\u7075\u6D3B\u6027\u3002\u5907\u5FD8\u5F55\u5BF9\u8C61\u901A\u5E38\u7531\u4E09\u4E2A\u89D2\u8272\u7EC4\u6210\uFF1A"}),"\n",(0,a.jsx)(t.p,{children:"\u53D1\u8D77\u4EBA\uFF08Originator\uFF09\uFF1A\u8D1F\u8D23\u521B\u5EFA\u5907\u5FD8\u5F55\u5BF9\u8C61\uFF0C\u5E76\u5C06\u81EA\u8EAB\u72B6\u6001\u4FDD\u5B58\u5230\u5907\u5FD8\u5F55\u4E2D\uFF0C\u4E5F\u8D1F\u8D23\u4ECE\u5907\u5FD8\u5F55\u4E2D\u6062\u590D\u72B6\u6001\u3002"}),"\n",(0,a.jsx)(t.p,{children:"\u5907\u5FD8\u5F55\uFF08Memento\uFF09\uFF1A\u5B58\u50A8\u53D1\u8D77\u4EBA\u5BF9\u8C61\u7684\u5185\u90E8\u72B6\u6001\u3002"}),"\n",(0,a.jsx)(t.p,{children:"\u8D1F\u8D23\u4EBA\uFF08Caretaker\uFF09\uFF1A\u8D1F\u8D23\u7BA1\u7406\u5907\u5FD8\u5F55\u5BF9\u8C61\uFF0C\u53EF\u4EE5\u5B58\u50A8\u548C\u68C0\u7D22\u5907\u5FD8\u5F55\u5BF9\u8C61\uFF0C\u4F46\u4E0D\u76F4\u63A5\u64CD\u4F5C\u5907\u5FD8\u5F55\u7684\u72B6\u6001\u3002"}),"\n",(0,a.jsx)(t.h2,{id:"\u573A\u666F",children:"\u573A\u666F"}),"\n",(0,a.jsx)(t.p,{children:"\u64A4\u9500\u548C\u6062\u590D\u529F\u80FD\uFF1A\u5F53\u9700\u8981\u5728\u5E94\u7528\u7A0B\u5E8F\u4E2D\u5B9E\u73B0\u64A4\u9500\u548C\u6062\u590D\u529F\u80FD\u65F6\uFF0C\u5907\u5FD8\u5F55\u6A21\u5F0F\u975E\u5E38\u6709\u7528\u3002"}),"\n",(0,a.jsx)(t.p,{children:"\u72B6\u6001\u4FDD\u5B58\u548C\u6062\u590D\uFF1A\u5F53\u9700\u8981\u4FDD\u5B58\u5BF9\u8C61\u7684\u72B6\u6001\uFF0C\u4EE5\u4FBF\u5728\u5C06\u6765\u7684\u67D0\u4E2A\u65F6\u95F4\u70B9\u6062\u590D\u5230\u4E4B\u524D\u7684\u72B6\u6001\u65F6\uFF0C\u5907\u5FD8\u5F55\u6A21\u5F0F\u53EF\u4EE5\u6D3E\u4E0A\u7528\u573A\u3002"}),"\n",(0,a.jsx)(t.p,{children:"\u5FEB\u7167\u529F\u80FD\uFF1A\u5907\u5FD8\u5F55\u6A21\u5F0F\u53EF\u4EE5\u7528\u4E8E\u521B\u5EFA\u5BF9\u8C61\u7684\u5FEB\u7167\uFF0C\u4EE5\u4FBF\u5728\u9700\u8981\u65F6\u6062\u590D\u5230\u5FEB\u7167\u72B6\u6001\u3002"}),"\n",(0,a.jsx)(t.h2,{id:"\u5B9E\u73B0",children:"\u5B9E\u73B0"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:'// \u5907\u5FD8\u5F55\u7C7B\nclass Memento {\n  constructor(state) {\n    this.state = state;\n  }\n\n  getState() {\n    return this.state;\n  }\n}\n\n// \u53D1\u8D77\u4EBA\u7C7B\nclass Originator {\n  constructor() {\n    this.state = "";\n  }\n\n  setState(state) {\n    this.state = state;\n  }\n\n  getState() {\n    return this.state;\n  }\n\n  createMemento() {\n    return new Memento(this.state);\n  }\n\n  restoreMemento(memento) {\n    this.state = memento.getState();\n  }\n}\n\n// \u8D1F\u8D23\u4EBA\u7C7B\nclass Caretaker {\n  constructor() {\n    this.mementos = [];\n  }\n\n  addMemento(memento) {\n    this.mementos.push(memento);\n  }\n\n  getMemento(index) {\n    return this.mementos[index];\n  }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\nconst originator = new Originator();\nconst caretaker = new Caretaker();\n\noriginator.setState("State 1");\ncaretaker.addMemento(originator.createMemento());\n\noriginator.setState("State 2");\ncaretaker.addMemento(originator.createMemento());\n\noriginator.setState("State 3");\n\nconsole.log("Current State:", originator.getState()); // Output: Current State: State 3\n\noriginator.restoreMemento(caretaker.getMemento(1));\nconsole.log("Restored State:", originator.getState()); // Output: Restored State: State 2\n'})}),"\n",(0,a.jsx)(t.p,{children:"\u5728\u4E0A\u9762\u7684\u793A\u4F8B\u4E2D\uFF0CMemento \u7C7B\u7528\u4E8E\u5B58\u50A8\u53D1\u8D77\u4EBA\u5BF9\u8C61\u7684\u72B6\u6001\u3002Originator \u7C7B\u662F\u53D1\u8D77\u4EBA\uFF0C\u8D1F\u8D23\u521B\u5EFA\u5907\u5FD8\u5F55\u5BF9\u8C61\uFF0C\u5E76\u5C06\u81EA\u8EAB\u72B6\u6001\u4FDD\u5B58\u5230\u5907\u5FD8\u5F55\u4E2D\uFF0C\u540C\u65F6\u53EF\u4EE5\u4ECE\u5907\u5FD8\u5F55\u4E2D\u6062\u590D\u72B6\u6001\u3002Caretaker \u7C7B\u662F\u8D1F\u8D23\u4EBA\uFF0C\u8D1F\u8D23\u7BA1\u7406\u5907\u5FD8\u5F55\u5BF9\u8C61\uFF0C\u5305\u62EC\u6DFB\u52A0\u548C\u68C0\u7D22\u5907\u5FD8\u5F55\u5BF9\u8C61\u3002"}),"\n",(0,a.jsx)(t.p,{children:"\u5BA2\u6237\u7AEF\u4EE3\u7801\u6F14\u793A\u4E86\u5982\u4F55\u4F7F\u7528\u5907\u5FD8\u5F55\u6A21\u5F0F\u6765\u4FDD\u5B58\u548C\u6062\u590D\u53D1\u8D77\u4EBA\u5BF9\u8C61\u7684\u72B6\u6001\uFF0C\u4EE5\u5B9E\u73B0\u64A4\u9500\u548C\u6062\u590D\u529F\u80FD\u3002\u5907\u5FD8\u5F55\u6A21\u5F0F\u6709\u52A9\u4E8E\u5B9E\u73B0\u5BF9\u8C61\u72B6\u6001\u7684\u4FDD\u5B58\u548C\u6062\u590D\uFF0C\u4EE5\u53CA\u64A4\u9500\u548C\u6062\u590D\u529F\u80FD\u3002"})]})}function m(e={}){let{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);