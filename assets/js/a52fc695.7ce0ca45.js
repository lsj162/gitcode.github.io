"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["9279"],{64291:function(n,e,a){a.r(e),a.d(e,{frontMatter:()=>t,default:()=>p,contentTitle:()=>r,assets:()=>l,toc:()=>o,metadata:()=>i});var i=JSON.parse('{"id":"\u524D\u7AEF/JavaScript/EcmaScript 2015/async \u51FD\u6570/index","title":"async \u51FD\u6570","description":"Generator \u51FD\u6570\u7684\u8BED\u6CD5\u7CD6\uFF0C\u5C06 Generator \u51FD\u6570\u7684\u661F\u53F7\uFF08\\\\*\uFF09\u66FF\u6362\u6210 async\uFF0C\u5C06 yield \u66FF\u6362\u6210 await\u3002ES2017 \u6807\u51C6\u5F15\u5165\u4E86 async \u51FD\u6570\uFF0C\u4F7F\u5F97\u5F02\u6B65\u64CD\u4F5C\u53D8\u5F97\u66F4\u52A0\u65B9\u4FBF\u3002","source":"@site/docs/\u524D\u7AEF/JavaScript/EcmaScript 2015/async \u51FD\u6570/index.mdx","sourceDirName":"\u524D\u7AEF/JavaScript/EcmaScript 2015/async \u51FD\u6570","slug":"/\u524D\u7AEF/JavaScript/EcmaScript 2015/async \u51FD\u6570/","permalink":"/docs/\u524D\u7AEF/JavaScript/EcmaScript 2015/async \u51FD\u6570/","draft":false,"unlisted":false,"editUrl":"https://github.com/docs/\u524D\u7AEF/JavaScript/EcmaScript 2015/async \u51FD\u6570/index.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"\u524D\u7AEF","previous":{"title":"index","permalink":"/docs/\u524D\u7AEF/JavaScript/EcmaScript 2015/WebAssembly/"},"next":{"title":"index","permalink":"/docs/\u524D\u7AEF/JavaScript/\u5B9E\u73B0/Es3\u65B9\u6CD5\u6269\u5C55/"}}'),s=a(96773),c=a(16070);let t={},r="async \u51FD\u6570",l={},o=[{value:"\u7279\u70B9",id:"\u7279\u70B9",level:2},{value:"\u57FA\u672C\u7528\u6CD5",id:"\u57FA\u672C\u7528\u6CD5",level:2},{value:"\u9519\u8BEF\u5904\u7406\u673A\u5236\u3002",id:"\u9519\u8BEF\u5904\u7406\u673A\u5236",level:2},{value:"\u6309\u987A\u5E8F\u5B8C\u6210\u5F02\u6B65\u64CD\u4F5C",id:"\u6309\u987A\u5E8F\u5B8C\u6210\u5F02\u6B65\u64CD\u4F5C",level:2},{value:"\u9876\u5C42 await",id:"\u9876\u5C42-await",level:2}];function d(n){let e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"async-\u51FD\u6570",children:"async \u51FD\u6570"})}),"\n",(0,s.jsx)(e.p,{children:"Generator \u51FD\u6570\u7684\u8BED\u6CD5\u7CD6\uFF0C\u5C06 Generator \u51FD\u6570\u7684\u661F\u53F7\uFF08*\uFF09\u66FF\u6362\u6210 async\uFF0C\u5C06 yield \u66FF\u6362\u6210 await\u3002ES2017 \u6807\u51C6\u5F15\u5165\u4E86 async \u51FD\u6570\uFF0C\u4F7F\u5F97\u5F02\u6B65\u64CD\u4F5C\u53D8\u5F97\u66F4\u52A0\u65B9\u4FBF\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"\u7279\u70B9",children:"\u7279\u70B9"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5185\u7F6E\u6267\u884C\u5668\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u66F4\u597D\u7684\u8BED\u4E49\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u66F4\u5E7F\u7684\u9002\u7528\u6027\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u8FD4\u56DE\u503C\u662F Promise\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u57FA\u672C\u7528\u6CD5",children:"\u57FA\u672C\u7528\u6CD5"}),"\n",(0,s.jsx)(e.p,{children:"\u9047\u5230 await \u5C31\u4F1A\u5148\u8FD4\u56DE\uFF0C\u7B49\u5230\u5F02\u6B65\u64CD\u4F5C\u5B8C\u6210\uFF0C\u518D\u63A5\u7740\u6267\u884C\u51FD\u6570\u4F53\u5185\u540E\u9762\u7684\u8BED\u53E5\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-Javascript",children:"// \u51FD\u6570\u58F0\u660E\nasync function foo() {}\n\n// \u51FD\u6570\u8868\u8FBE\u5F0F\nconst foo = async function () {};\n\n// \u5BF9\u8C61\u7684\u65B9\u6CD5\nlet obj = { async foo() {} };\n\n// Class \u7684\u65B9\u6CD5\nclass Storage {\n  async foo(name) {}\n}\n\n// \u7BAD\u5934\u51FD\u6570\nconst foo = async () => {};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u9519\u8BEF\u5904\u7406\u673A\u5236",children:"\u9519\u8BEF\u5904\u7406\u673A\u5236\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'async function f() {\n  await Promise.reject("\u51FA\u9519\u4E86");\n}\n\nf()\n  .then((v) => console.log(v))\n  .catch((e) => console.log(e));\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u6309\u987A\u5E8F\u5B8C\u6210\u5F02\u6B65\u64CD\u4F5C",children:"\u6309\u987A\u5E8F\u5B8C\u6210\u5F02\u6B65\u64CD\u4F5C"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-Javascript",children:"async function logInOrder(urls) {\n  // \u5E76\u53D1\u8BFB\u53D6\u8FDC\u7A0BURL\n  const textPromises = urls.map(async (url) => {\n    const response = await fetch(url);\n    return response.text();\n  });\n\n  // \u6309\u6B21\u5E8F\u8F93\u51FA\n  for (const textPromise of textPromises) {\n    console.log(await textPromise);\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u9876\u5C42-await",children:"\u9876\u5C42 await"}),"\n",(0,s.jsx)(e.p,{children:"ES2022 \u5F00\u59CB\uFF0C\u5141\u8BB8\u5728\u6A21\u5757\u7684\u9876\u5C42\u72EC\u7ACB\u4F7F\u7528 await \u547D\u4EE4\uFF0C\u8BBE\u8BA1\u76EE\u7684\u4F7F\u7528 await \u89E3\u51B3\u6A21\u5757\u5F02\u6B65\u52A0\u8F7D\u7684\u95EE\u9898\u3002"}),"\n",(0,s.jsx)(e.admonition,{type:"tip",children:(0,s.jsx)(e.p,{children:"\u9876\u5C42 await \u53EA\u80FD\u7528\u5728 ES6 \u6A21\u5757\uFF0C\u4E0D\u80FD\u7528\u5728 CommonJS \u6A21\u5757\u3002\u8FD9\u662F\u56E0\u4E3A CommonJS \u6A21\u5757\u7684 require()\u662F\u540C\u6B65\u52A0\u8F7D\uFF0C\u5982\u679C\u6709\u9876\u5C42 await\uFF0C\u5C31\u6CA1\u6CD5\u5904\u7406\u52A0\u8F7D\u4E86\u3002"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-Javascript",children:"const strings = await import();\n"})})]})}function p(n={}){let{wrapper:e}={...(0,c.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}}}]);