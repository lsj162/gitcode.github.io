"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4579],{3881:(n,e,o)=>{o.d(e,{R:()=>r,x:()=>i});var s=o(8101);const d={},l=s.createContext(d);function r(n){const e=s.useContext(l);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:r(n.components),s.createElement(l.Provider,{value:e},n.children)}},5922:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>t,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"\u540e\u7aef/\u6570\u636e\u5e93/MongoDB/\u5b89\u5168\u542f\u52a8\u65b9\u5f0f/index","title":"\u5b89\u5168\u542f\u52a8\u65b9\u5f0f","description":"\u6700\u65b0\u542f\u52a8\u65b9\u5f0f mongodb 6.0X","source":"@site/docs/\u540e\u7aef/\u6570\u636e\u5e93/MongoDB/\u5b89\u5168\u542f\u52a8\u65b9\u5f0f/index.mdx","sourceDirName":"\u540e\u7aef/\u6570\u636e\u5e93/MongoDB/\u5b89\u5168\u542f\u52a8\u65b9\u5f0f","slug":"/\u540e\u7aef/\u6570\u636e\u5e93/MongoDB/\u5b89\u5168\u542f\u52a8\u65b9\u5f0f/","permalink":"/docs/\u540e\u7aef/\u6570\u636e\u5e93/MongoDB/\u5b89\u5168\u542f\u52a8\u65b9\u5f0f/","draft":false,"unlisted":false,"editUrl":"https://github.com/docs/\u540e\u7aef/\u6570\u636e\u5e93/MongoDB/\u5b89\u5168\u542f\u52a8\u65b9\u5f0f/index.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"\u540e\u7aef","previous":{"title":"Rust","permalink":"/docs/\u540e\u7aef/Rust/"},"next":{"title":"Redis","permalink":"/docs/\u540e\u7aef/\u6570\u636e\u5e93/Redis/"}}');var d=o(5105),l=o(3881);const r={},i="\u5b89\u5168\u542f\u52a8\u65b9\u5f0f",t={},c=[{value:"\u6700\u65b0\u542f\u52a8\u65b9\u5f0f mongodb 6.0X",id:"\u6700\u65b0\u542f\u52a8\u65b9\u5f0f-mongodb-60x",level:2},{value:"mongodb 5.0X \u65e7\u7248\u672c\uff08\ud83d\udeae\uff09",id:"mongodb-50x-\u65e7\u7248\u672c",level:2},{value:"\u975e\u5b89\u5168\u6a21\u5f0f\u542f\u52a8",id:"\u975e\u5b89\u5168\u6a21\u5f0f\u542f\u52a8",level:3},{value:"\u542f\u52a8\u5b89\u5168\u7ba1\u7406\u8005 Mongodb \u670d\u52a1",id:"\u542f\u52a8\u5b89\u5168\u7ba1\u7406\u8005-mongodb-\u670d\u52a1",level:3}];function a(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"\u5b89\u5168\u542f\u52a8\u65b9\u5f0f",children:"\u5b89\u5168\u542f\u52a8\u65b9\u5f0f"})}),"\n",(0,d.jsx)(e.h2,{id:"\u6700\u65b0\u542f\u52a8\u65b9\u5f0f-mongodb-60x",children:"\u6700\u65b0\u542f\u52a8\u65b9\u5f0f mongodb 6.0X"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-sh",children:"mongod --config ~/mongo/config/mongo.conf\n"})}),"\n",(0,d.jsx)(e.p,{children:"mongo.conf"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-conf",children:"storage:\n   dbPath: ~/mongo/data\nsystemLog:\n   destination: file\n   path: ~/mongo/log/log.log\n   logAppend: true\nnet:\n   bindIp: 127.0.0.1\n   port: 27101\nprocessManagement:\n   fork: true\n"})}),"\n",(0,d.jsx)(e.h2,{id:"mongodb-50x-\u65e7\u7248\u672c",children:"mongodb 5.0X \u65e7\u7248\u672c\uff08\ud83d\udeae\uff09"}),"\n",(0,d.jsx)(e.h3,{id:"\u975e\u5b89\u5168\u6a21\u5f0f\u542f\u52a8",children:"\u975e\u5b89\u5168\u6a21\u5f0f\u542f\u52a8"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-sh",children:"mongod \\\n--dbpath ~/mongodb/data \\\n--logpath ~/mongodb/log/log.log\\\n--logappend \\\n--bind_ip 127.0.0.1 \\\n--port 27102 \\\n--fork\n"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u8fd0\u884c\nmongo --port 27102"}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u521b\u5efa\u7ba1\u7406\u5458\u89d2\u8272\nuse admin"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'db.createUser(\n    {\n        user: "root",\n        pwd: "",\n        customData: { employeeId: \'**\\*\\***\' },\n        roles: [\n            { "role":"root","db":"admin" }\n        ]\n    },\n    {\n        w: "majority" ,\n        wtimeout: 5000\n    }\n)\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u9000\u51fa\nuse admin\ndb.shutdownServer()\nexit"}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"\u542f\u52a8\u5b89\u5168\u7ba1\u7406\u8005-mongodb-\u670d\u52a1",children:"\u542f\u52a8\u5b89\u5168\u7ba1\u7406\u8005 Mongodb \u670d\u52a1"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-sh",children:"mongod \\\n--dbpath ~/mongodb/data \\\n--logpath ~/mongodb/log/log.log\\\n--bind_ip 127.0.0.1 \\\n--port 27102 \\\n--timeStampFormat iso8601-local \\\n--logappend \\\n--profile 1 \\\n--auth \\\n--fork\n"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u9a8c\u8bc1"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-sh",children:"  mongo --port 27102\n  use admin\n  db.auth({ user: '', pwd: \"\" })\n"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u7ed3\u675f\u8fdb\u7a0b\nps -ef | grep mongo\npkill mongod"}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u6027\u80fd\u76d1\u63a7"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-sh",children:"  db.getProfilingLevel()\n  db.setProfilingLevel(1,100)\n  db.system.profile.count()\n  db.system.profile.find({}, {ns:1,op:1,millis:1,query:1})\n  db.system.profile.drop()\n"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u67e5\u770b\u8fde\u63a5\u6570\u548c\u78c1\u76d8\u4fe1\u606f\ndb.serverStatus().connections\niostat\ntop"}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u8bbe\u7f6e\u65e5\u5fd7\u7b49\u7ea7\ndb.setLogLevel(5)"}),"\n"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(a,{...n})}):a(n)}}}]);