"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["9777"],{52689:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>l,default:()=>a,contentTitle:()=>c,assets:()=>d,toc:()=>h,metadata:()=>s});var s=JSON.parse('{"id":"\u8BA1\u7B97\u673A\u7F16\u7A0B/\u7F51\u7EDC\u901A\u4FE1/\u7F51\u7EDC\u5B89\u5168/CSRF \u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\u653B\u51FB/index","title":"CSRF \u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\u653B\u51FB","description":"CSRF\uFF08Cross-Site Request Forgery\uFF0C\u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\uFF09\u662F\u4E00\u79CD\u7F51\u7EDC\u5B89\u5168\u6F0F\u6D1E\uFF0C\u653B\u51FB\u8005\u5229\u7528\u7528\u6237\u5DF2\u7ECF\u5728\u67D0\u4E2A\u7F51\u7AD9\u4E0A\u767B\u5F55\u7684\u8EAB\u4EFD\uFF0C\u5728\u7528\u6237\u4E0D\u77E5\u60C5\u7684\u60C5\u51B5\u4E0B\u6267\u884C\u67D0\u4E9B\u64CD\u4F5C\u3002\u653B\u51FB\u8005\u901A\u8FC7\u6B3A\u9A97\u7528\u6237\u4F7F\u5176\u6D4F\u89C8\u5668\u53D1\u9001\u4F2A\u9020\u7684\u8BF7\u6C42\uFF0C\u8FD9\u4E9B\u8BF7\u6C42\u53EF\u80FD\u5305\u62EC\u5728\u7528\u6237\u5DF2\u7ECF\u767B\u5F55\u7684\u7AD9\u70B9\u4E0A\u6267\u884C\u654F\u611F\u7684\u64CD\u4F5C\uFF0C\u5982\u66F4\u6539\u5BC6\u7801\u3001\u53D1\u8868\u8BC4\u8BBA\u3001\u8F6C\u8D26\u7B49\u3002","source":"@site/docs/\u8BA1\u7B97\u673A\u7F16\u7A0B/\u7F51\u7EDC\u901A\u4FE1/\u7F51\u7EDC\u5B89\u5168/CSRF \u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\u653B\u51FB/index.mdx","sourceDirName":"\u8BA1\u7B97\u673A\u7F16\u7A0B/\u7F51\u7EDC\u901A\u4FE1/\u7F51\u7EDC\u5B89\u5168/CSRF \u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\u653B\u51FB","slug":"/\u8BA1\u7B97\u673A\u7F16\u7A0B/\u7F51\u7EDC\u901A\u4FE1/\u7F51\u7EDC\u5B89\u5168/CSRF \u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\u653B\u51FB/","permalink":"/docs/\u8BA1\u7B97\u673A\u7F16\u7A0B/\u7F51\u7EDC\u901A\u4FE1/\u7F51\u7EDC\u5B89\u5168/CSRF \u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\u653B\u51FB/","draft":false,"unlisted":false,"editUrl":"https://github.com/docs/\u8BA1\u7B97\u673A\u7F16\u7A0B/\u7F51\u7EDC\u901A\u4FE1/\u7F51\u7EDC\u5B89\u5168/CSRF \u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\u653B\u51FB/index.mdx","tags":[],"version":"current","frontMatter":{"outline":"deep"},"sidebar":"\u8BA1\u7B97\u673A\u7F16\u7A0B","previous":{"title":"index","permalink":"/docs/\u8BA1\u7B97\u673A\u7F16\u7A0B/\u7F51\u7EDC\u901A\u4FE1/\u7F51\u7EDC\u57FA\u7840\u77E5\u8BC6/TCP_IP \u6A21\u578B/"},"next":{"title":"DDoS \u653B\u51FB","permalink":"/docs/\u8BA1\u7B97\u673A\u7F16\u7A0B/\u7F51\u7EDC\u901A\u4FE1/\u7F51\u7EDC\u5B89\u5168/DDoS \u653B\u51FB/"}}'),i=r(96773),t=r(16070);let l={outline:"deep"},c="CSRF \u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\u653B\u51FB",d={},h=[{value:"CSRF \u653B\u51FB\u7684\u57FA\u672C\u539F\u7406\u5982\u4E0B\uFF1A",id:"csrf-\u653B\u51FB\u7684\u57FA\u672C\u539F\u7406\u5982\u4E0B",level:2},{value:"\u4E3A\u4E86\u9632\u8303 CSRF \u653B\u51FB\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u91C7\u53D6\u4EE5\u4E0B\u63AA\u65BD\uFF1A",id:"\u4E3A\u4E86\u9632\u8303-csrf-\u653B\u51FB\u5F00\u53D1\u8005\u53EF\u4EE5\u91C7\u53D6\u4EE5\u4E0B\u63AA\u65BD",level:2},{value:"\u4E3E \uD83C\uDF30",id:"\u4E3E-",level:2},{value:"\u53C2\u8003\u94FE\u63A5",id:"\u53C2\u8003\u94FE\u63A5",level:2}];function o(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"csrf-\u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\u653B\u51FB",children:"CSRF \u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\u653B\u51FB"})}),"\n",(0,i.jsx)(n.p,{children:"CSRF\uFF08Cross-Site Request Forgery\uFF0C\u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\uFF09\u662F\u4E00\u79CD\u7F51\u7EDC\u5B89\u5168\u6F0F\u6D1E\uFF0C\u653B\u51FB\u8005\u5229\u7528\u7528\u6237\u5DF2\u7ECF\u5728\u67D0\u4E2A\u7F51\u7AD9\u4E0A\u767B\u5F55\u7684\u8EAB\u4EFD\uFF0C\u5728\u7528\u6237\u4E0D\u77E5\u60C5\u7684\u60C5\u51B5\u4E0B\u6267\u884C\u67D0\u4E9B\u64CD\u4F5C\u3002\u653B\u51FB\u8005\u901A\u8FC7\u6B3A\u9A97\u7528\u6237\u4F7F\u5176\u6D4F\u89C8\u5668\u53D1\u9001\u4F2A\u9020\u7684\u8BF7\u6C42\uFF0C\u8FD9\u4E9B\u8BF7\u6C42\u53EF\u80FD\u5305\u62EC\u5728\u7528\u6237\u5DF2\u7ECF\u767B\u5F55\u7684\u7AD9\u70B9\u4E0A\u6267\u884C\u654F\u611F\u7684\u64CD\u4F5C\uFF0C\u5982\u66F4\u6539\u5BC6\u7801\u3001\u53D1\u8868\u8BC4\u8BBA\u3001\u8F6C\u8D26\u7B49\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"csrf-\u653B\u51FB\u7684\u57FA\u672C\u539F\u7406\u5982\u4E0B",children:"CSRF \u653B\u51FB\u7684\u57FA\u672C\u539F\u7406\u5982\u4E0B\uFF1A"}),"\n",(0,i.jsx)(n.p,{children:"\u7528\u6237\u767B\u5F55\u76EE\u6807\u7F51\u7AD9\uFF1A \u7528\u6237\u5728\u4E00\u4E2A\u7F51\u7AD9\u4E0A\u767B\u5F55\uFF0C\u5E76\u4E14\u5728\u540C\u4E00\u6D4F\u89C8\u5668\u4E2D\u4FDD\u6301\u4E86\u767B\u5F55\u72B6\u6001\u3002\u8FD9\u901A\u5E38\u4F1A\u5BFC\u81F4\u6D4F\u89C8\u5668\u5B58\u50A8\u6709\u7528\u6237\u7684\u4F1A\u8BDD Cookie\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u653B\u51FB\u8005\u51C6\u5907\u4F2A\u9020\u8BF7\u6C42\uFF1A \u653B\u51FB\u8005\u521B\u5EFA\u4E00\u4E2A\u5305\u542B\u4F2A\u9020\u8BF7\u6C42\u7684 HTML \u9875\u9762\uFF0C\u5E76\u5C06\u8FD9\u4E2A\u9875\u9762\u4F20\u64AD\u7ED9\u76EE\u6807\u7528\u6237\u3002\u8FD9\u4E2A\u9875\u9762\u4E2D\u53EF\u80FD\u5305\u542B\u4E86\u4E00\u4E9B\u5BF9\u76EE\u6807\u7F51\u7AD9\u7684\u8BF7\u6C42\uFF0C\u8FD9\u4E9B\u8BF7\u6C42\u4F1A\u5229\u7528\u7528\u6237\u5F53\u524D\u7684\u8EAB\u4EFD\u8FDB\u884C\u64CD\u4F5C\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7528\u6237\u8BBF\u95EE\u6076\u610F\u9875\u9762\uFF1A \u7528\u6237\u5728\u4E0D\u77E5\u60C5\u7684\u60C5\u51B5\u4E0B\u8BBF\u95EE\u4E86\u5305\u542B\u6076\u610F\u8BF7\u6C42\u7684\u9875\u9762\uFF0C\u8FD9\u53EF\u80FD\u662F\u901A\u8FC7\u70B9\u51FB\u4E00\u4E2A\u6076\u610F\u94FE\u63A5\u3001\u67E5\u770B\u6076\u610F\u90AE\u4EF6\u6216\u8005\u70B9\u51FB\u4E86\u4E00\u4E2A\u88AB\u653B\u51FB\u8005\u63A7\u5236\u7684\u5E7F\u544A\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6D4F\u89C8\u5668\u81EA\u52A8\u53D1\u9001\u8BF7\u6C42\uFF1A \u7531\u4E8E\u7528\u6237\u5DF2\u7ECF\u5728\u76EE\u6807\u7F51\u7AD9\u4E0A\u4FDD\u6301\u4E86\u767B\u5F55\u72B6\u6001\uFF0C\u6D4F\u89C8\u5668\u4F1A\u81EA\u52A8\u53D1\u9001\u5305\u542B\u7528\u6237\u8EAB\u4EFD\u4FE1\u606F\u7684\u8BF7\u6C42\u5230\u76EE\u6807\u7F51\u7AD9\u3002\u8FD9\u4F7F\u5F97\u76EE\u6807\u7F51\u7AD9\u8BA4\u4E3A\u8FD9\u4E2A\u8BF7\u6C42\u662F\u7528\u6237\u81EA\u613F\u53D1\u8D77\u7684\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u653B\u51FB\u6210\u529F\uFF1A \u653B\u51FB\u8005\u6210\u529F\u5229\u7528\u7528\u6237\u7684\u8EAB\u4EFD\u5728\u76EE\u6807\u7F51\u7AD9\u4E0A\u6267\u884C\u4E86\u67D0\u4E9B\u64CD\u4F5C\uFF0C\u8FD9\u53EF\u80FD\u5305\u62EC\u66F4\u6539\u8D26\u6237\u8BBE\u7F6E\u3001\u53D1\u8868\u8BC4\u8BBA\u3001\u8F6C\u8D26\u7B49\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u4E3A\u4E86\u9632\u8303-csrf-\u653B\u51FB\u5F00\u53D1\u8005\u53EF\u4EE5\u91C7\u53D6\u4EE5\u4E0B\u63AA\u65BD",children:"\u4E3A\u4E86\u9632\u8303 CSRF \u653B\u51FB\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u91C7\u53D6\u4EE5\u4E0B\u63AA\u65BD\uFF1A"}),"\n",(0,i.jsx)(n.p,{children:"\u4F7F\u7528 CSRF \u4EE4\u724C\uFF1A \u5728\u7528\u6237\u548C\u670D\u52A1\u5668\u4E4B\u95F4\u5F15\u5165 CSRF \u4EE4\u724C\uFF0C\u786E\u4FDD\u6BCF\u4E2A\u8BF7\u6C42\u90FD\u643A\u5E26\u4E86\u6709\u6548\u7684\u4EE4\u724C\u3002\u653B\u51FB\u8005\u96BE\u4EE5\u83B7\u53D6\u6709\u6548\u7684 CSRF \u4EE4\u724C\uFF0C\u4ECE\u800C\u96BE\u4EE5\u4F2A\u9020\u6709\u6548\u8BF7\u6C42\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u540C\u6E90\u7B56\u7565\uFF1A \u540C\u6E90\u7B56\u7565\u662F\u6D4F\u89C8\u5668\u7684\u4E00\u9879\u5B89\u5168\u63AA\u65BD\uFF0C\u9650\u5236\u4E86\u4E00\u4E2A\u7F51\u9875\u4ECE\u4E00\u4E2A\u6E90\u52A0\u8F7D\u7684\u6587\u6863\u6216\u811A\u672C\u5982\u4F55\u4E0E\u6765\u81EA\u53E6\u4E00\u4E2A\u6E90\u7684\u8D44\u6E90\u8FDB\u884C\u4EA4\u4E92\u3002\u901A\u8FC7\u9650\u5236\u8DE8\u57DF\u8BF7\u6C42\uFF0C\u53EF\u4EE5\u964D\u4F4E CSRF \u653B\u51FB\u7684\u98CE\u9669\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u68C0\u67E5 Referer \u5934\uFF1A \u5728\u670D\u52A1\u5668\u7AEF\u53EF\u4EE5\u68C0\u67E5 HTTP \u8BF7\u6C42\u5934\u4E2D\u7684 Referer \u5B57\u6BB5\uFF0C\u786E\u4FDD\u8BF7\u6C42\u6765\u81EA\u5408\u6CD5\u7684\u6E90\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u4F7F\u7528 Cookie \u5C5E\u6027\uFF1A \u5C06 Cookie \u5C5E\u6027\u8BBE\u7F6E\u4E3A SameSite\uFF0C\u9650\u5236\u7B2C\u4E09\u65B9\u7AD9\u70B9\u5BF9 Cookie \u7684\u8BBF\u95EE\uFF0C\u8FDB\u4E00\u6B65\u51CF\u5C11 CSRF \u653B\u51FB\u7684\u53EF\u80FD\u6027\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u4E3E-",children:"\u4E3E \uD83C\uDF30"}),"\n",(0,i.jsx)(n.p,{children:"\u5047\u8BBE\u6709\u4E00\u4E2A\u5728\u7EBF\u94F6\u884C\u7F51\u7AD9\uFF0C\u5176\u4E2D\u7528\u6237\u767B\u5F55\u540E\u53EF\u4EE5\u6267\u884C\u8F6C\u8D26\u64CD\u4F5C\u3002\u94F6\u884C\u7F51\u7AD9\u4F7F\u7528\u7B80\u5355\u7684 GET \u8BF7\u6C42\u6765\u6267\u884C\u8F6C\u8D26\u64CD\u4F5C\uFF0C\u7C7B\u4F3C\u4E8E\u4EE5\u4E0B\u7684 URL\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"https://bank.com/transfer?toAccount=attacker&amount=1000\n"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u7528\u6237\u767B\u5F55\u94F6\u884C\u7F51\u7AD9\uFF1A \u7528\u6237\u5728\u94F6\u884C\u7F51\u7AD9\u4E0A\u767B\u5F55\uFF0C\u5EFA\u7ACB\u4E86\u4E0E\u94F6\u884C\u670D\u52A1\u5668\u7684\u4F1A\u8BDD\uFF0C\u5E76\u5728\u6D4F\u89C8\u5668\u4E2D\u4FDD\u5B58\u4E86\u76F8\u5E94\u7684\u4F1A\u8BDD Cookie\u3002"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u653B\u51FB\u8005\u521B\u5EFA\u6076\u610F\u9875\u9762\uFF1A \u653B\u51FB\u8005\u521B\u5EFA\u4E86\u4E00\u4E2A\u5305\u542B\u5982\u4E0B HTML \u4EE3\u7801\u7684\u6076\u610F\u7F51\u9875\uFF0C\u5E76\u5C06\u5B83\u4F20\u64AD\u7ED9\u76EE\u6807\u7528\u6237\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n  <body>\n    <h1>Check out this funny cat picture!</h1>\n    <img\n      src="https://bank.com/transfer?toAccount=attacker&amount=1000"\n      width="1"\n      height="1"\n    />\n  </body>\n</html>\n'})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u76EE\u6807\u7528\u6237\u70B9\u51FB\u94FE\u63A5\uFF1A \u76EE\u6807\u7528\u6237\u5728\u4E0D\u6000\u7591\u7684\u60C5\u51B5\u4E0B\u70B9\u51FB\u4E86\u653B\u51FB\u8005\u63D0\u4F9B\u7684\u94FE\u63A5\uFF0C\u8FD9\u53EF\u80FD\u662F\u901A\u8FC7\u7535\u5B50\u90AE\u4EF6\u3001\u793E\u4EA4\u5A92\u4F53\u6216\u5176\u4ED6\u9014\u5F84\u4F20\u64AD\u7684\u3002"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["\u6D4F\u89C8\u5668\u53D1\u8D77\u8DE8\u7AD9\u8BF7\u6C42\uFF1A \u7531\u4E8E\u7528\u6237\u5DF2\u7ECF\u767B\u5F55\u4E86\u94F6\u884C\u7F51\u7AD9\uFF0C\u6D4F\u89C8\u5668\u4F1A\u81EA\u52A8\u643A\u5E26\u6709\u6548\u7684\u94F6\u884C\u4F1A\u8BDD Cookie\uFF0C\u5411 ",(0,i.jsx)(n.a,{href:"https://bank.com/transfer?toAccount=attacker&amount=1000",children:"https://bank.com/transfer?toAccount=attacker&amount=1000"})," \u8FD9\u4E2A\u5730\u5740\u53D1\u8D77 GET \u8BF7\u6C42\uFF0C\u6267\u884C\u4E86\u8F6C\u8D26\u64CD\u4F5C\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u653B\u51FB\u6210\u529F\uFF1A \u7531\u4E8E\u6D4F\u89C8\u5668\u53D1\u9001\u7684\u8BF7\u6C42\u5305\u542B\u4E86\u7528\u6237\u7684\u8EAB\u4EFD\u4FE1\u606F\uFF08\u4F1A\u8BDD Cookie\uFF09\uFF0C\u94F6\u884C\u670D\u52A1\u5668\u5C06\u4EE5\u7528\u6237\u7684\u8EAB\u4EFD\u6267\u884C\u8F6C\u8D26\u64CD\u4F5C\uFF0C\u5C06 1000 \u5355\u4F4D\u7684\u8D44\u91D1\u8F6C\u5230\u4E86\u653B\u51FB\u8005\u6307\u5B9A\u7684\u8D26\u6237\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u8FD9\u5C31\u662F CSRF \u653B\u51FB\u7684\u57FA\u672C\u539F\u7406\u3002\u653B\u51FB\u8005\u5229\u7528\u4E86\u7528\u6237\u5728\u76EE\u6807\u7F51\u7AD9\u4E0A\u7684\u5DF2\u767B\u5F55\u72B6\u6001\uFF0C\u901A\u8FC7\u6784\u9020\u5305\u542B\u6076\u610F\u8BF7\u6C42\u7684\u9875\u9762\uFF0C\u8BF1\u4F7F\u7528\u6237\u5728\u4E0D\u77E5\u60C5\u7684\u60C5\u51B5\u4E0B\u89E6\u53D1\u4E86\u8FD9\u4E9B\u8BF7\u6C42\uFF0C\u4ECE\u800C\u6267\u884C\u4E86\u653B\u51FB\u8005\u4E8B\u5148\u5B9A\u4E49\u597D\u7684\u64CD\u4F5C\u3002"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4E3A\u4E86\u9632\u8303 CSRF \u653B\u51FB\uFF0C\u76EE\u6807\u7F51\u7AD9\u53EF\u4EE5\u91C7\u53D6\u63AA\u65BD\uFF0C\u5982\u4F7F\u7528 CSRF \u4EE4\u724C\u3001\u68C0\u67E5 Referer \u5934\u3001\u4F7F\u7528\u540C\u6E90\u68C0\u67E5\u7B49\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u53C2\u8003\u94FE\u63A5",children:"\u53C2\u8003\u94FE\u63A5"})]})}function a(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);