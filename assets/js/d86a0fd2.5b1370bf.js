"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["4008"],{52827:function(t,o,e){e.r(o),e.d(o,{frontMatter:()=>a,default:()=>d,contentTitle:()=>i,assets:()=>c,toc:()=>l,metadata:()=>n});var n=JSON.parse('{"id":"\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u7ED3\u6784\u578B\u6A21\u5F0F/\u4EAB\u5143\u6A21\u5F0F/index","title":"\u4EAB\u5143\u6A21\u5F0F\uFF08Flyweight Pattern\uFF09","description":"\u4EAB\u5143\u6A21\u5F0F\uFF08Flyweight Pattern\uFF09\u662F\u4E00\u79CD\u7ED3\u6784\u578B\u8BBE\u8BA1\u6A21\u5F0F\uFF0C\u65E8\u5728\u51CF\u5C11\u5BF9\u8C61\u7684\u5185\u5B58\u4F7F\u7528\u548C\u63D0\u9AD8\u6027\u80FD\uFF0C\u901A\u8FC7\u5171\u4EAB\u76F8\u4F3C\u5BF9\u8C61\u4E4B\u95F4\u7684\u5171\u540C\u72B6\u6001\uFF0C\u4EE5\u51CF\u5C11\u91CD\u590D\u521B\u5EFA\u5BF9\u8C61\u7684\u5F00\u9500\u3002\u4EAB\u5143\u6A21\u5F0F\u9002\u7528\u4E8E\u9700\u8981\u5927\u91CF\u76F8\u4F3C\u5BF9\u8C61\u7684\u573A\u666F\uFF0C\u5176\u4E2D\u6BCF\u4E2A\u5BF9\u8C61\u7684\u72B6\u6001\u53EF\u4EE5\u5206\u6210\u5185\u90E8\u72B6\u6001\uFF08\u4E0D\u53D8\u7684\uFF09\u548C\u5916\u90E8\u72B6\u6001\uFF08\u53EF\u53D8\u7684\uFF09\u3002","source":"@site/docs/\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u7ED3\u6784\u578B\u6A21\u5F0F/\u4EAB\u5143\u6A21\u5F0F/index.md","sourceDirName":"\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u7ED3\u6784\u578B\u6A21\u5F0F/\u4EAB\u5143\u6A21\u5F0F","slug":"/\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u7ED3\u6784\u578B\u6A21\u5F0F/\u4EAB\u5143\u6A21\u5F0F/","permalink":"/docs/\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u7ED3\u6784\u578B\u6A21\u5F0F/\u4EAB\u5143\u6A21\u5F0F/","draft":false,"unlisted":false,"editUrl":"https://github.com/docs/\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u7ED3\u6784\u578B\u6A21\u5F0F/\u4EAB\u5143\u6A21\u5F0F/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"\u524D\u7AEF","previous":{"title":"\u62BD\u8C61\u5DE5\u5382\u6A21\u5F0F\uFF08Abstract Factory Pattern\uFF09","permalink":"/docs/\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u521B\u5EFA\u578B\u6A21\u5F0F/\u62BD\u8C61\u5DE5\u5382\u6A21\u5F0F/"},"next":{"title":"\u4EE3\u7406\u6A21\u5F0F\uFF08Proxy Pattern\uFF09","permalink":"/docs/\u524D\u7AEF/JavaScript/\u8BBE\u8BA1\u6A21\u5F0F/\u7ED3\u6784\u578B\u6A21\u5F0F/\u4EE3\u7406\u6A21\u5F0F/"}}'),r=e(96773),s=e(16070);let a={},i="\u4EAB\u5143\u6A21\u5F0F\uFF08Flyweight Pattern\uFF09",c={},l=[{value:"\u573A\u666F",id:"\u573A\u666F",level:2},{value:"\u5B9E\u73B0",id:"\u5B9E\u73B0",level:2}];function h(t){let o={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.a)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"\u4EAB\u5143\u6A21\u5F0Fflyweight-pattern",children:"\u4EAB\u5143\u6A21\u5F0F\uFF08Flyweight Pattern\uFF09"})}),"\n",(0,r.jsx)(o.p,{children:"\u4EAB\u5143\u6A21\u5F0F\uFF08Flyweight Pattern\uFF09\u662F\u4E00\u79CD\u7ED3\u6784\u578B\u8BBE\u8BA1\u6A21\u5F0F\uFF0C\u65E8\u5728\u51CF\u5C11\u5BF9\u8C61\u7684\u5185\u5B58\u4F7F\u7528\u548C\u63D0\u9AD8\u6027\u80FD\uFF0C\u901A\u8FC7\u5171\u4EAB\u76F8\u4F3C\u5BF9\u8C61\u4E4B\u95F4\u7684\u5171\u540C\u72B6\u6001\uFF0C\u4EE5\u51CF\u5C11\u91CD\u590D\u521B\u5EFA\u5BF9\u8C61\u7684\u5F00\u9500\u3002\u4EAB\u5143\u6A21\u5F0F\u9002\u7528\u4E8E\u9700\u8981\u5927\u91CF\u76F8\u4F3C\u5BF9\u8C61\u7684\u573A\u666F\uFF0C\u5176\u4E2D\u6BCF\u4E2A\u5BF9\u8C61\u7684\u72B6\u6001\u53EF\u4EE5\u5206\u6210\u5185\u90E8\u72B6\u6001\uFF08\u4E0D\u53D8\u7684\uFF09\u548C\u5916\u90E8\u72B6\u6001\uFF08\u53EF\u53D8\u7684\uFF09\u3002"}),"\n",(0,r.jsx)(o.p,{children:"\u4EAB\u5143\u6A21\u5F0F\u7684\u4E3B\u8981\u601D\u60F3\u662F\u5C06\u5BF9\u8C61\u5206\u4E3A\u53EF\u5171\u4EAB\u7684\u5185\u90E8\u72B6\u6001\u548C\u4E0D\u53EF\u5171\u4EAB\u7684\u5916\u90E8\u72B6\u6001\u3002\u5185\u90E8\u72B6\u6001\u5B58\u50A8\u5728\u4EAB\u5143\u5BF9\u8C61\u5185\u90E8\uFF0C\u800C\u5916\u90E8\u72B6\u6001\u5B58\u50A8\u5728\u5BA2\u6237\u7AEF\u4EE3\u7801\u4E2D\u3002\u5BA2\u6237\u7AEF\u4EE3\u7801\u8D1F\u8D23\u7BA1\u7406\u5916\u90E8\u72B6\u6001\uFF0C\u5E76\u5C06\u5176\u4F20\u9012\u7ED9\u4EAB\u5143\u5BF9\u8C61\uFF0C\u4EE5\u4FBF\u5728\u4E0D\u540C\u60C5\u51B5\u4E0B\u5171\u4EAB\u76F8\u4F3C\u5BF9\u8C61\u3002"}),"\n",(0,r.jsx)(o.h2,{id:"\u573A\u666F",children:"\u573A\u666F"}),"\n",(0,r.jsx)(o.p,{children:"\u5927\u91CF\u76F8\u4F3C\u5BF9\u8C61\uFF1A\u5F53\u9700\u8981\u5927\u91CF\u76F8\u4F3C\u5BF9\u8C61\uFF0C\u4F46\u8FD9\u4E9B\u5BF9\u8C61\u5171\u4EAB\u76F8\u540C\u7684\u5185\u90E8\u72B6\u6001\u65F6\uFF0C\u4F7F\u7528\u4EAB\u5143\u6A21\u5F0F\u53EF\u4EE5\u5927\u5927\u51CF\u5C11\u5185\u5B58\u4F7F\u7528\u3002"}),"\n",(0,r.jsx)(o.p,{children:"\u6027\u80FD\u4F18\u5316\uFF1A\u4EAB\u5143\u6A21\u5F0F\u53EF\u4EE5\u7528\u4E8E\u6027\u80FD\u4F18\u5316\uFF0C\u51CF\u5C11\u5BF9\u8C61\u7684\u521B\u5EFA\u548C\u9500\u6BC1\u5F00\u9500\uFF0C\u7279\u522B\u662F\u5728\u6709\u9650\u8D44\u6E90\u7684\u73AF\u5883\u4E2D\u3002"}),"\n",(0,r.jsx)(o.p,{children:"\u7F13\u5B58\u673A\u5236\uFF1A\u4EAB\u5143\u6A21\u5F0F\u901A\u5E38\u7528\u4E8E\u5B9E\u73B0\u7F13\u5B58\u673A\u5236\uFF0C\u4EE5\u63D0\u9AD8\u6570\u636E\u8BBF\u95EE\u7684\u901F\u5EA6\u3002"}),"\n",(0,r.jsx)(o.h2,{id:"\u5B9E\u73B0",children:"\u5B9E\u73B0"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-js",children:'// \u4EAB\u5143\u5BF9\u8C61\nclass Book {\n  constructor(title, author) {\n    this.title = title;\n    this.author = author;\n  }\n}\n\n// \u4EAB\u5143\u5DE5\u5382\nclass BookFactory {\n  constructor() {\n    this.books = {};\n  }\n\n  getBook(title, author) {\n    if (!this.books[title]) {\n      this.books[title] = new Book(title, author);\n    }\n    return this.books[title];\n  }\n\n  getBookCount() {\n    return Object.keys(this.books).length;\n  }\n}\n\n// \u5BA2\u6237\u7AEF\u4EE3\u7801\nconst bookFactory = new BookFactory();\n\nconst book1 = bookFactory.getBook("Book A", "Author 1");\nconst book2 = bookFactory.getBook("Book B", "Author 2");\nconst book3 = bookFactory.getBook("Book A", "Author 1"); // \u91CD\u590D\u4E66\u7C4D\n\nconsole.log(book1 === book2); // false\uFF0C\u4E0D\u540C\u4E66\u7C4D\nconsole.log(book1 === book3); // true\uFF0C\u76F8\u540C\u4E66\u7C4D\n\nconsole.log(`Total books created: ${bookFactory.getBookCount()}`);\n'})}),"\n",(0,r.jsx)(o.p,{children:"\u5728\u4E0A\u9762\u7684\u793A\u4F8B\u4E2D\uFF0CBook \u662F\u4EAB\u5143\u5BF9\u8C61\uFF0C\u5B83\u5177\u6709\u5185\u90E8\u72B6\u6001\uFF08title \u548C author\uFF09\u3002BookFactory \u662F\u4EAB\u5143\u5DE5\u5382\uFF0C\u5B83\u7BA1\u7406\u5DF2\u521B\u5EFA\u7684\u4E66\u7C4D\u5BF9\u8C61\uFF0C\u5E76\u786E\u4FDD\u4E0D\u4F1A\u91CD\u590D\u521B\u5EFA\u76F8\u540C\u4E66\u7C4D\u3002\u5BA2\u6237\u7AEF\u4EE3\u7801\u901A\u8FC7\u5DE5\u5382\u83B7\u53D6\u4E66\u7C4D\u5BF9\u8C61\uFF0C\u5982\u679C\u4E66\u7C4D\u5BF9\u8C61\u5DF2\u5B58\u5728\uFF0C\u5DE5\u5382\u5C06\u8FD4\u56DE\u73B0\u6709\u5BF9\u8C61\uFF1B\u5426\u5219\uFF0C\u5DE5\u5382\u5C06\u521B\u5EFA\u4E00\u4E2A\u65B0\u5BF9\u8C61\u3002"}),"\n",(0,r.jsx)(o.p,{children:"\u4EAB\u5143\u6A21\u5F0F\u901A\u8FC7\u5171\u4EAB\u76F8\u540C\u7684\u5185\u90E8\u72B6\u6001\u6765\u51CF\u5C11\u5185\u5B58\u6D88\u8017\uFF0C\u7279\u522B\u9002\u7528\u4E8E\u5927\u91CF\u76F8\u4F3C\u5BF9\u8C61\u7684\u60C5\u51B5\u3002\u5728\u4E0A\u8FF0\u793A\u4F8B\u4E2D\uFF0C\u5DE5\u5382\u53EA\u7EF4\u62A4\u552F\u4E00\u7684\u4E66\u7C4D\u5BF9\u8C61\uFF0C\u4ECE\u800C\u5927\u5927\u51CF\u5C11\u4E86\u5185\u5B58\u4F7F\u7528\u3002"})]})}function d(t={}){let{wrapper:o}={...(0,s.a)(),...t.components};return o?(0,r.jsx)(o,{...t,children:(0,r.jsx)(h,{...t})}):h(t)}}}]);